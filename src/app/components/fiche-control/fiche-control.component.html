<div class="page" *ngIf="formData">
  <div class="content-wrapper">
    <header>
      <img src="assets/logocimfep.jpg" alt="Logo CIMFEP">
      <img src="assets/logooprag.jpg" alt="Logo OPRAG">
    </header>

    <div class="title-row">
      <div class="main-title">Fiche d‚Äôinspection Camionnage OPRAG</div>
    </div>

    <div class="meta-section">
      <table border="1">
        <tr>
          <td class="label">N¬∞ de rapport :</td>
          <td><input type="text" [(ngModel)]="formData.rapport_id"></td>
          <td class="label">Date :</td>
          <td><input type="date" [(ngModel)]="formData.date"></td>
        </tr>
        <tr>
          <td class="label">Soci√©t√© / Entreprise :</td>
          <td colspan="3"><input type="text"
              [(ngModel)]="formData.societe"></td>
        </tr>
        <tr>
          <td class="label">Localisation :</td>
          <td colspan="3"><input type="text"
              [(ngModel)]="formData.localisation"></td>
        </tr>
        <tr>
          <td class="label">D√©signation,<br>Identification √©quipement :</td>
          <td colspan="3"><input type="text"
              [(ngModel)]="formData.designation"></td>
        </tr>
        <tr>
          <td class="label">Num√©ro de la plaque:</td>
          <td><input type="text" [(ngModel)]="formData.plaque"></td>
          <td class="label">Ann√©e:</td>
          <td><input type="text" [(ngModel)]="formData.annee"></td>
        </tr>
        <tr>
          <td class="label">Marque:</td>
          <td><input type="text" [(ngModel)]="formData.marque"></td>
          <td class="label">Model:</td>
          <td><input type="text" [(ngModel)]="formData.model"></td>
        </tr>
        <tr>
          <td class="label">N¬∞Parc:</td>
          <td colspan="3"><input type="text" [(ngModel)]="formData.parc"></td>
        </tr>
        <tr>
          <td class="label">Num√©ro de s√©rie:</td>
          <td colspan="3"><input type="text" class="serial-input" maxlength="30"
              [(ngModel)]="formData.serie"></td>
        </tr>
      </table>
    </div>

    <div class="meta-section">
      <table border="1">
        <tr>
          <td style="padding: 4px;">
            <strong>Documents pr√©sent√©s :</strong>
            <ul class="doc-checklist">
              <li><input type="checkbox" [checked]="formData.documents.notice">
                Notice d‚Äôinstruction</li>
              <li><input type="checkbox"
                  [checked]="formData.documents.maintenance"> Livret
                maintenance</li>
              <li><input type="checkbox"
                  [checked]="formData.documents.conformite"> D√©claration /
                Attestation de conformit√©</li>
              <li><input type="checkbox" [checked]="formData.documents.rapport">
                Rapport de contr√¥le pr√©c√©dent</li>
            </ul>
            <p class="small-text">D√©claration (√©crite) du chef d'√©tablissement,
              des travaux pr√©vus d'√™tre effectu√© par l‚Äô√©quipement de transport
              contr√¥l√© (pour l'assistance d'examen d'ad√©quation) :</p>
          </td>
        </tr>
      </table>
    </div>

    <div class="meta-section">
      <table border="1">
        <tr>
          <td class="label">Condition d‚Äôintervention :</td>
          <td><input type="text" [(ngModel)]="formData.condition"></td>
          <td class="label">Moyen d‚Äôacc√®s :</td>
          <td><input type="text" [(ngModel)]="formData.acces"></td>
        </tr>
        <tr>
          <td class="label">Partiel :</td>
          <td><input type="text" [(ngModel)]="formData.partiel"></td>
          <td class="label">Conducteur :</td>
          <td><input type="text" [(ngModel)]="formData.conducteur"></td>
        </tr>
        <tr>
          <td class="label">Motif contr√¥le :</td>
          <td colspan="3"><input type="text" [(ngModel)]="formData.motif"></td>
        </tr>
      </table>
    </div>

    <div class="container">
      <div class="column">
        <div class="section-title">1/ Points de contr√¥les bloquants</div>
        <div class="table-box">
          <table class="items" aria-label="Points bloquants">
            <tbody>
              <tr *ngFor="let item of formData.blockingPoints; let i = index">
                <td class="label">{{ item.label }}</td>
                <td class="check-col">C<input type="checkbox"
                    [checked]="item.value === 'C'"></td>
                <td class="check-col">N.C<input type="checkbox"
                    [checked]="item.value === 'N.C'"></td>
                <td class="check-col">B.E<input type="checkbox"
                    [checked]="item.value === 'B.E'"></td>
                <td class="check-col">M.E<input type="checkbox"
                    [checked]="item.value === 'M.E'"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="legend-container">
          <u>L√©gende:</u>
          <div id="legend-items">
            <span>C = Conforme</span>
            <span>N.C = Non Conforme</span>
            <span>B.E = Bon √©tat</span>
            <span>M.E = Mauvaise √©tat</span>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="section-title">2/ Points de contr√¥les non bloquants</div>
        <div class="table-box">
          <table class="items" aria-label="Points non bloquants">
            <tbody>
              <tr
                *ngFor="let item of formData.nonBlockingPoints; let i = index">
                <td class="label">{{ item.label }}</td>
                <td class="check-col">C<input type="checkbox"
                    [checked]="item.value === 'C'"></td>
                <td class="check-col">N.C<input type="checkbox"
                    [checked]="item.value === 'N.C'"></td>
                <td class="check-col">B.E<input type="checkbox"
                    [checked]="item.value === 'B.E'"></td>
                <td class="check-col">M.E<input type="checkbox"
                    [checked]="item.value === 'M.E'"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="obs-recom" role="region"
      aria-label="Observations et Recommandations">
      <div class="part">
        <div class="obs-text">
          <strong>OBSERVATIONS :</strong>
          <textarea [(ngModel)]="formData.observations"></textarea>
        </div>
        <div class="avis-section">
          <u>AVIS:</u>
          <label><input type="radio" name="avis" value="Favorable"
              [(ngModel)]="formData.avis"> Favorable</label>
          <label><input type="radio" name="avis" value="D√©favorable"
              [(ngModel)]="formData.avis"> D√©favorable</label>
        </div>
      </div>
      <div class="divider"></div>
      <div class="part recom-part">
        <strong>RECOMMANDATIONS :</strong>
        <textarea [(ngModel)]="formData.recommandations"></textarea>
      </div>
    </div>

    <div class="signatures">
      <div class="sign-box">
        <span>Nom du repr√©sentant entreprise</span>
      </div>
      <div class="sign-box">
        <span>Nom du repr√©sentant BA‚ÄôJINN Consulting</span>
      </div>
      <div class="sign-box">
        <span>Nom du repr√©sentant CFHP Services</span>
      </div>
    </div>
  </div>

  <footer>
    <img src="assets/logocfhp.jpg" alt="Logo CFHP">
    <span>PARTENAIRES TECHNIQUES</span>
    <img src="assets/logobajin.png" alt="Logo BA'JINN">
  </footer>
</div>

<div class="print-btn">
  <button (click)="print()">üñ®Ô∏è Imprimer la fiche</button>
</div>
